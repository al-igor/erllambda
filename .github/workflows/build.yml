name: erllambda_dummy_build

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:

  build:

    runs-on: ubuntu-latest

    container:
      image: erlang:22.0.7

    steps:
    - uses: actions/checkout@v2
   
    - name: Compile
      run: make compile
   
    - name: Run tests
      run: make test
   
    - name: Fail trigger
      run: exit13 # full stop
   
    - name: Microsoft Teams Notification
      uses: dhollerbach/github-action-send-message-to-ms-teams@1.0.10
      if: always()
      with:
        webhook: 'https://outlook.office.com/webhook/1a0c4586-0e24-4db7-8724-f86cc0517ac6@04151827-cb2a-4231-9c24-1ef5ffc408eb/IncomingWebhook/5610c44f6cfa4fad9a1c99555b12e501/e7013d08-62f5-4d2e-9f7f-106117af144b'
        message: 'Notification! ${{ job.status }}'

